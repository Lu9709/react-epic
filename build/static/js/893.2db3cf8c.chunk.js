"use strict";(self.webpackChunkreact_epic=self.webpackChunkreact_epic||[]).push([[893],{5893:function(e,r,n){n.r(r),n.d(r,{default:function(){return k}});var t,i,l,s,d=n(2791),a=n(9023),c=n(1413),u=n(168),h=n(4382),g=n(32),o=n(9553),p=n(4376),x=n(7083),j=n(6776),f=n(5751),m=n(184),b=o.Z.Dragger,F=f.ZP.div(t||(t=(0,u.Z)(["\n  margin-top: 30px;\n  border: 1px dashed #ccc;\n  padding: 20px;\n"]))),Z=f.ZP.h1(i||(i=(0,u.Z)(["\n  margin: 20px;\n  text-align: center;\n"]))),v=f.ZP.img(l||(l=(0,u.Z)(["\n  max-width: 300px;\n"]))),w=(0,a.Pi)((function(){var e=(0,d.useRef)(),r=(0,d.useRef)(),n=(0,h.m)(),t=n.ImageStore,i=n.UserStore,l=(0,g.hN)((function(){return{width:null,setWidth:function(e){l.width=e},get widthStr(){return l.width?"/w/".concat(l.width):""},height:null,setHeight:function(e){l.height=e},get heightStr(){return l.height?"/h/".concat(l.height):""},get fullStr(){return t.serverFile.attributes.url.attributes.url+"?imageView2/0"+l.widthStr+l.heightStr}}})),s={showUploadList:!1,beforeUpload:function(e){return t.setFile(e),t.setFilename(e.name),null===i.currentUser?(p.ZP.warning("\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20\uff01"),!1):(window.file=e,/(svg|png|jpg|jpeg|gif)$/gi.test(e.type)?e.size>1048576?(p.ZP.error("\u56fe\u7247\u6700\u5927\u5c3a\u5bf8\u4e0d\u80fd\u8d85\u8fc71M\uff01"),!1):(t.upload().then((function(e){console.log("\u4e0a\u4f20\u6210\u529f"),console.log(e)})).catch((function(){console.log("\u4e0a\u4f20\u5931\u8d25")})),!1):(p.ZP.error("\u53ea\u80fd\u4e0a\u4f20.svg/.png/.jpg/.jpeg/.gif\u683c\u5f0f\u7684\u6587\u4ef6\uff01"),!1))}};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(x.Z,{tip:"\u4e0a\u4f20\u4e2d",spinning:t.isUploading,children:(0,m.jsxs)(b,(0,c.Z)((0,c.Z)({},s),{},{children:[(0,m.jsx)("p",{className:"ant-upload-drag-icon",children:(0,m.jsx)(j.Z,{})}),(0,m.jsx)("p",{className:"ant-upload-text",children:"\u70b9\u51fb\u6216\u8005\u62d6\u62fd\u4e0a\u4f20\u56fe\u7247"}),(0,m.jsx)("p",{className:"ant-upload-hint",children:"\u4ec5\u652f\u6301.svg/.png/.jpg/.jpeg/.gif\u683c\u5f0f\u7684\u56fe\u7247\uff0c\u6700\u5927\u5c3a\u5bf8\u4e0d\u80fd\u8d85\u8fc71M"})]}))}),t.serverFile?(0,m.jsxs)(F,{children:[(0,m.jsx)(Z,{children:"\u4e0a\u4f20\u7ed3\u679c"}),(0,m.jsxs)("dl",{children:[(0,m.jsx)("dt",{children:"\u5b8c\u6574\u8def\u5f84"}),(0,m.jsx)("dd",{children:(0,m.jsx)("a",{target:"_blank",href:t.serverFile.attributes.url.attributes.url,children:t.serverFile.attributes.url.attributes.url})}),(0,m.jsx)("dd",{children:"\u6587\u4ef6\u540d"}),(0,m.jsx)("dd",{children:t.filename}),(0,m.jsx)("dt",{children:"\u56fe\u7247\u9884\u89c8"}),(0,m.jsx)("dd",{children:(0,m.jsx)(v,{src:t.serverFile.attributes.url.attributes.url,alt:t.filename})}),(0,m.jsx)("dt",{children:"\u66f4\u591a\u5c3a\u5bf8"}),(0,m.jsxs)("dd",{children:[(0,m.jsx)("input",{ref:e,onChange:function(){l.setWidth(e.current.value)},placeholder:"\u6700\u5927\u5bbd\u5ea6(\u53ef\u9009)"}),(0,m.jsx)("input",{ref:r,onChange:function(){l.setHeight(r.current.value)},placeholder:"\u6700\u5927\u9ad8\u5ea6(\u53ef\u9009)"})]}),(0,m.jsx)("dd",{children:(0,m.jsx)("a",{target:"_blank",href:l.fullStr,children:l.fullStr})})]})]}):null]})})),P=f.ZP.div(s||(s=(0,u.Z)(["\n  background: orange;\n  padding: 10px;\n  margin: 30px 0;\n  color: #FFFFFF;\n  border-radius: 4px;\n"]))),S=(0,a.Pi)((function(e){var r=e.children,n=(0,h.m)().UserStore;return(0,m.jsx)(m.Fragment,{children:n.currentUser?null:(0,m.jsx)(P,{children:r})})})),k=(0,a.Pi)((function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(S,{children:"\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20!!!"}),(0,m.jsx)(w,{})]})}))}}]);
//# sourceMappingURL=893.2db3cf8c.chunk.js.map