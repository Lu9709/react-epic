{"version":3,"file":"static/js/490.301073e3.chunk.js","mappings":"0PAMMA,EAAUC,EAAAA,GAAAA,IAAH,6JAOPC,EAAQD,EAAAA,GAAAA,GAAH,uEAILE,GAAYC,EAAAA,EAAAA,KAAS,WACvB,IAAQC,GAAcC,EAAAA,EAAAA,KAAdD,UACFE,GAAWC,EAAAA,EAAAA,MAwBXC,EAAa,CACTC,SADS,SACAC,EAAKC,EAAMC,GAAU,OAAD,mGAC5B,IAAIC,KAAKF,GADmB,yCACJG,QAAQC,OAAO,qGADX,YAE5BJ,EAAMK,OAAS,GAFa,yCAEHF,QAAQC,OAAO,4DAFZ,YAG5BJ,EAAMK,OAAS,IAHa,yCAGFF,QAAQC,OAAO,6DAHb,gCAIxBD,QAAQG,WAJgB,+CAQvC,OACI,UAAClB,EAAD,YACI,SAACE,EAAD,8BACA,UAAC,KAAD,gBACIiB,KAAK,SApCF,CACXC,SAAU,CAACC,KAAM,GACjBC,WAAY,CAACD,KAAM,MAiCf,IAGIE,SA/BK,SAACC,GACd,IAAOd,EAAqBc,EAArBd,SAASe,EAAYD,EAAZC,SAChBpB,EAAUqB,YAAYhB,GACtBL,EAAUsB,YAAYF,GACtBpB,EAAUuB,QACLC,MAAK,WACFC,QAAQC,IAAI,gEACZxB,EAAS,QACVyB,OAAM,WACTF,QAAQC,IAAI,+BAEhBD,QAAQC,IAAI,WAAYP,IAqBhBS,eAnBW,SAACC,GACpBJ,QAAQC,IAAI,UAAWG,IAcnB,WAMI,SAAC,SAAD,CACIC,MAAM,qBACNhB,KAAK,WACLiB,MAAO,CAAC,CAACC,UAAU,EAAKC,QAAS,wCAAU,CAACC,UAAU9B,EAAWC,WAHrE,UAKI,SAAC,IAAD,OAGJ,SAAC,SAAD,CACIyB,MAAM,eACNhB,KAAK,WACLiB,MAAO,CAAC,CAACC,UAAU,EAAKC,QAAS,kCAAW,CAACE,IAAK,EAAEF,QAAS,wCAAW,CAACG,IAAK,GAAGH,QAAS,yCAH9F,UAKI,SAAC,aAAD,OAEJ,SAAC,UAAD,kBApDO,CACfhB,WAAY,CAACoB,OAAQ,EAAGrB,KAAM,MAmDtB,cACI,SAAC,IAAD,CAAQsB,KAAK,UAAUC,SAAS,SAAhC,uCASpB","sources":["pages/Login.js"],"sourcesContent":["import {observer} from \"mobx-react\";\r\nimport {Button, Form, Input} from 'antd';\r\nimport styled from \"styled-components\";\r\nimport {useStores} from \"../stores\";\r\nimport {useNavigate} from 'react-router-dom'\r\n\r\nconst Wrapper = styled.div`\r\n  max-width: 600px;\r\n  margin: 30px auto;\r\n  box-shadow: 2px 2px 4px 0 rgba(0, 0, 0, 0.2);\r\n  border-radius: 4px;\r\n  padding: 20px;\r\n`\r\nconst Title = styled.h1`\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n`\r\nconst Component = observer(() => {\r\n    const { AuthStore } = useStores()\r\n    const navigate = useNavigate()\r\n    const layout = {\r\n        labelCol: {span: 6},\r\n        wrapperCol: {span: 18}\r\n    }\r\n    const tailLayout = {\r\n        wrapperCol: {offset: 6, span: 18}\r\n    }\r\n    const onFinish = (values) => {\r\n        const {username,password} = values\r\n        AuthStore.setUsername(username)\r\n        AuthStore.setPassword(password)\r\n        AuthStore.login()\r\n            .then(()=>{\r\n                console.log('登录成功，跳转到首页')\r\n                navigate('/')\r\n            }).catch(()=>{\r\n            console.log('登录失败')\r\n        })\r\n        console.log('Success:', values);\r\n    };\r\n    const onFinishFailed = (errorInfo) => {\r\n        console.log('Failed:', errorInfo);\r\n    };\r\n    const Validators = {\r\n        async username(rule,value,callback){\r\n            if(/W/.test(value)) return Promise.reject('不能出现字母数字下划线以外的字符')\r\n            if(value.length < 3) return Promise.reject('用户名不能长度小于3')\r\n            if(value.length > 10) return Promise.reject('用户名不能长度大于10')\r\n            return Promise.resolve()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Wrapper>\r\n            <Title> 登录 </Title>\r\n            <Form\r\n                name=\"basic\"\r\n                {...layout}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Form.Item\r\n                    label=\"用户名\"\r\n                    name=\"username\"\r\n                    rules={[{required: true,message: '请输入用户名'},{validator:Validators.username}]}\r\n                >\r\n                    <Input/>\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"密码\"\r\n                    name=\"password\"\r\n                    rules={[{required: true,message: '请输入密码',}, {min: 4,message: '最少四个字符'}, {max: 10,message: '最多十个字符'}]}\r\n                >\r\n                    <Input.Password/>\r\n                </Form.Item>\r\n                <Form.Item {...tailLayout}>\r\n                    <Button type=\"primary\" htmlType=\"submit\">\r\n                        提交\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Wrapper>\r\n    )\r\n})\r\n\r\nexport default Component\r\n"],"names":["Wrapper","styled","Title","Component","observer","AuthStore","useStores","navigate","useNavigate","Validators","username","rule","value","callback","test","Promise","reject","length","resolve","name","labelCol","span","wrapperCol","onFinish","values","password","setUsername","setPassword","login","then","console","log","catch","onFinishFailed","errorInfo","label","rules","required","message","validator","min","max","offset","type","htmlType"],"sourceRoot":""}