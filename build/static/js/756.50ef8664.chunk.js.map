{"version":3,"file":"static/js/756.50ef8664.chunk.js","mappings":"4NAMMA,EAAUC,EAAAA,GAAAA,IAAH,6JAOPC,EAAQD,EAAAA,GAAAA,GAAH,uEAILE,GAAYC,EAAAA,EAAAA,KAAS,WACvB,IAAOC,GAAaC,EAAAA,EAAAA,KAAbD,UACDE,GAAWC,EAAAA,EAAAA,MAyBXC,EAAa,CACfC,SADe,SACNC,EAAKC,EAAMC,GAChB,MAAG,IAAIC,KAAKF,GAAeG,QAAQC,OAAO,oGACvCJ,EAAMK,OAAS,EAAUF,QAAQC,OAAO,2DACxCJ,EAAMK,OAAS,GAAWF,QAAQC,OAAO,4DACrCD,QAAQG,YAUvB,OACI,UAAClB,EAAD,YACI,SAACE,EAAD,8BACA,UAAC,KAAD,gBACIiB,KAAK,SA3CF,CACXC,SAAU,CAACC,KAAM,GACjBC,WAAY,CAACD,KAAM,MAwCf,IAGIE,SAtCK,SAACC,GACdC,QAAQC,IAAI,WAAYF,GACxB,IAAOd,EAAqBc,EAArBd,SAASiB,EAAYH,EAAZG,SAChBtB,EAAUuB,YAAYlB,GACtBL,EAAUwB,YAAYF,GACtBtB,EAAUyB,WACLC,MAAK,WACFxB,EAAS,KACTkB,QAAQC,IAAI,+BACbM,OAAM,SAACC,GACVR,QAAQC,IAAIO,GACZR,QAAQC,IAAI,+DA4BRQ,eAzBW,SAACC,GACpBV,QAAQC,IAAI,UAAWS,IAoBnB,WAMI,SAAC,SAAD,CACIC,MAAM,qBACNjB,KAAK,WACLkB,MAAO,CAAC,CAACC,UAAU,EAAKC,QAAS,wCAAU,CAACC,UAAU/B,EAAWC,WAHrE,UAKI,SAAC,IAAD,OAGJ,SAAC,SAAD,CACI0B,MAAM,eACNjB,KAAK,WACLkB,MAAO,CAAC,CAACC,UAAU,EAAKC,QAAS,kCAAW,CAACE,IAAK,EAAEF,QAAS,wCAAW,CAACG,IAAK,GAAGH,QAAS,yCAH9F,UAKI,SAAC,aAAD,OAEJ,SAAC,SAAD,CACIH,MAAM,2BACNjB,KAAK,kBACLkB,MAAO,CAAC,CAACC,UAAU,EAAMC,QAAS,wCAlC1B,SAAC,GAAD,IAAEI,EAAF,EAAEA,cAAF,MAAsB,CAC1CH,UAD0C,SAChC7B,EAAKC,GACX,OAAIA,GAAS+B,EAAc,cAAgB/B,EACpCG,QAAQC,OAAO,8CADoCD,QAAQG,cA6B9D,UAKI,SAAC,aAAD,OAEJ,SAAC,UAAD,kBAlEO,CACfI,WAAY,CAACsB,OAAQ,EAAGvB,KAAM,MAiEtB,cACI,SAAC,IAAD,CAAQwB,KAAK,UAAUC,SAAS,SAAhC,uCASpB","sources":["pages/Register.js"],"sourcesContent":["import {observer} from \"mobx-react\";\r\nimport {useStores} from \"../stores\";\r\nimport {Form, Input, Button} from 'antd';\r\nimport styled from \"styled-components\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Wrapper = styled.div`\r\n  max-width: 600px;\r\n  margin: 30px auto;\r\n  box-shadow: 2px 2px 4px 0 rgba(0, 0, 0, 0.2);\r\n  border-radius: 4px;\r\n  padding: 20px;\r\n`\r\nconst Title = styled.h1`\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n`\r\nconst Component = observer(() => {\r\n    const {AuthStore} = useStores()\r\n    const navigate = useNavigate()\r\n    const layout = {\r\n        labelCol: {span: 6},\r\n        wrapperCol: {span: 18}\r\n    }\r\n    const tailLayout = {\r\n        wrapperCol: {offset: 6, span: 18}\r\n    }\r\n    const onFinish = (values) => {\r\n        console.log('Success:', values);\r\n        const {username,password} = values\r\n        AuthStore.setUsername(username)\r\n        AuthStore.setPassword(password)\r\n        AuthStore.register()\r\n            .then(()=>{\r\n                navigate('/')\r\n                console.log('注册成功')\r\n            }).catch((err)=>{\r\n            console.log(err)\r\n            console.log('注册失败,什么都不做')\r\n        })\r\n    };\r\n    const onFinishFailed = (errorInfo) => {\r\n        console.log('Failed:', errorInfo);\r\n    };\r\n    const Validators = {\r\n        username(rule,value,callback){\r\n            if(/W/.test(value)) return Promise.reject('不能出现字母数字下划线以外的字符')\r\n            if(value.length < 3) return Promise.reject('用户名不能长度小于3')\r\n            if(value.length > 10) return Promise.reject('用户名不能长度大于10')\r\n            return Promise.resolve()\r\n        }\r\n    }\r\n    const confirmPassword = ({getFieldValue}) => ({\r\n        validator(rule,value) {\r\n            if(!value || getFieldValue('password') === value ) return Promise.resolve()\r\n            return Promise.reject('两次密码不匹配')\r\n        }\r\n    })\r\n\r\n    return (\r\n        <Wrapper>\r\n            <Title> 注册 </Title>\r\n            <Form\r\n                name=\"basic\"\r\n                {...layout}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n            >\r\n                <Form.Item\r\n                    label=\"用户名\"\r\n                    name=\"username\"\r\n                    rules={[{required: true,message: '请输入用户名'},{validator:Validators.username}]}\r\n                >\r\n                    <Input/>\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    label=\"密码\"\r\n                    name=\"password\"\r\n                    rules={[{required: true,message: '请输入密码',}, {min: 4,message: '最少四个字符'}, {max: 10,message: '最多十个字符'}]}\r\n                >\r\n                    <Input.Password/>\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"确认密码\"\r\n                    name=\"confirmPassword\"\r\n                    rules={[{required: true, message: '再次输入密码'},confirmPassword]}\r\n                >\r\n                    <Input.Password/>\r\n                </Form.Item>\r\n                <Form.Item {...tailLayout}>\r\n                    <Button type=\"primary\" htmlType=\"submit\">\r\n                        提交\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </Wrapper>\r\n    )\r\n})\r\n\r\nexport default Component\r\n"],"names":["Wrapper","styled","Title","Component","observer","AuthStore","useStores","navigate","useNavigate","Validators","username","rule","value","callback","test","Promise","reject","length","resolve","name","labelCol","span","wrapperCol","onFinish","values","console","log","password","setUsername","setPassword","register","then","catch","err","onFinishFailed","errorInfo","label","rules","required","message","validator","min","max","getFieldValue","offset","type","htmlType"],"sourceRoot":""}